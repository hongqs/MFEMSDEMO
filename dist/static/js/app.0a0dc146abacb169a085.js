webpackJsonp([1],{"+IHl":function(t,e){},Ma8B:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7+uW"),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-container",[a("el-header",[a("el-menu",{staticClass:"el-menu-demo",attrs:{router:!0,"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[t._v("图表展示")]),t._v(" "),a("el-menu-item",{attrs:{index:"/timeShow"}},[t._v("工时展示")]),t._v(" "),a("el-menu-item",{attrs:{index:"/taskShow"}},[t._v("任务数展示")]),t._v(" "),a("el-menu-item",{attrs:{index:"/allShow"}},[t._v("工时汇总")])],2),t._v(" "),a("el-menu-item",{attrs:{index:"/users"}},[t._v("派工展示")]),t._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[t._v("基础设置")]),t._v(" "),a("el-menu-item",{attrs:{index:"/setTimeLimit"}},[t._v("工时设置")]),t._v(" "),a("el-menu-item",{attrs:{index:"/setTroubleShootingTime"}},[t._v("排故工时设置")]),t._v(" "),a("el-menu-item",{attrs:{index:"/upLoad"}},[t._v("文件上传")])],2),t._v(" "),a("el-menu-item",{attrs:{index:"/orders"}},[t._v("订单管理")])],1)],1),t._v(" "),a("el-main",[a("router-view")],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App",data:function(){return{activeIndex:this.$route.path}},methods:{handleSelect:function(t,e){}}},s,!1,function(t){a("Ma8B")},null,null).exports,o=a("/ocq"),n=a("pFYg"),l=a.n(n),u=a("BO1k"),m=a.n(u),c={name:"setTimeLimit",data:function(){return{tableData:[],depData:[],baseData:[],drawer:!1,timeForm:{id:"",baseId:"",depId:"",capWorkHoursY:"",MEWorkHoursY:"",AVWorkHoursY:"",capWorkHoursR:"",MEWorkHoursR:"",AVWorkHoursR:""}}},methods:{handleEdit:function(t,e){this.drawer=!0,console.log(t,e),this.timeForm=e},depFormatter:function(t,e,a,r){var s=!0,i=!1,o=void 0;try{for(var n,l=m()(this.depData);!(s=(n=l.next()).done);s=!0){var u=n.value;if(u.id==t.depId)return u.dep}}catch(t){i=!0,o=t}finally{try{!s&&l.return&&l.return()}finally{if(i)throw o}}return"无所属部门"},baseFormatter:function(t,e,a,r){var s=!0,i=!1,o=void 0;try{for(var n,l=m()(this.baseData);!(s=(n=l.next()).done);s=!0){var u=n.value;if(u.id==t.baseId)return u.base}}catch(t){i=!0,o=t}finally{try{!s&&l.return&&l.return()}finally{if(i)throw o}}return"无所属基地"},showData:function(){var t=this;this.$http.get("/findTimeLimit").then(function(e){t.tableData=e.data.results,console.log(l()(e.data)),t.depData=e.data.deps,t.baseData=e.data.bases})},onSubmit:function(t){var e=this;this.$http.post("/editTimeLimit",this.timeForm).then(function(t){console.log(t.data),t.data.success?(e.$message({message:"恭喜你，"+t.data.msg,type:"success"}),e.timeForm={},e.drawer=!1,e.showData()):e.$message.error(t.data.msg)})},cancel:function(){this.drawer=!1,this.showData()}},created:function(){this.showData()}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h3",{staticStyle:{margin:"0px 0px"}},[t._v("基地排故工时设置")]),t._v(" "),a("el-divider"),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"default-sort":{prop:"id",order:"ascending"},stripe:"",border:""}},[a("el-table-column",{attrs:{label:"id",width:"60",prop:"id",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{label:"执行地点",formatter:t.baseFormatter}}),t._v(" "),a("el-table-column",{attrs:{label:"执行部门",formatter:t.depFormatter}}),t._v(" "),a("el-table-column",{attrs:{label:"能力工时（黄线）",prop:"capWorkHoursY"}}),t._v(" "),a("el-table-column",{attrs:{label:"机械专业（黄线）",prop:"MEWorkHoursY"}}),t._v(" "),a("el-table-column",{attrs:{label:"电子专业（黄线）",prop:"AVWorkHoursY"}}),t._v(" "),a("el-table-column",{attrs:{label:"能力工时（红线）",prop:"capWorkHoursR"}}),t._v(" "),a("el-table-column",{attrs:{label:"机械专业（红线）",prop:"MEWorkHoursR"}}),t._v(" "),a("el-table-column",{attrs:{label:"电子专业（红线）",prop:"AVWorkHoursR"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("el-drawer",{ref:"drawer",attrs:{title:"编辑",visible:t.drawer,size:"30%"},on:{"update:visible":function(e){t.drawer=e}}},[a("el-form",{staticStyle:{margin:"0px 45px"}},[a("el-form-item",{attrs:{label:"能力工时（黄线）",prop:"capWorkHoursY"}},[a("el-input-number",{attrs:{precision:1,step:.5,min:0,max:300},model:{value:t.timeForm.capWorkHoursY,callback:function(e){t.$set(t.timeForm,"capWorkHoursY",e)},expression:"timeForm.capWorkHoursY"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"机械专业（黄线）",prop:"MEWorkHoursY"}},[a("el-input-number",{attrs:{precision:1,step:.5,min:0,max:300},model:{value:t.timeForm.MEWorkHoursY,callback:function(e){t.$set(t.timeForm,"MEWorkHoursY",e)},expression:"timeForm.MEWorkHoursY"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"电子专业（黄线）",prop:"AVWorkHoursY"}},[a("el-input-number",{attrs:{precision:1,step:.5,min:0,max:300},model:{value:t.timeForm.AVWorkHoursY,callback:function(e){t.$set(t.timeForm,"AVWorkHoursY",e)},expression:"timeForm.AVWorkHoursY"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"能力工时（红线）",prop:"capWorkHoursR"}},[a("el-input-number",{attrs:{precision:1,step:.5,min:0,max:300},model:{value:t.timeForm.capWorkHoursR,callback:function(e){t.$set(t.timeForm,"capWorkHoursR",e)},expression:"timeForm.capWorkHoursR"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"机械专业（红线）",prop:"MEWorkHoursR"}},[a("el-input-number",{attrs:{precision:1,step:.5,min:0,max:300},model:{value:t.timeForm.MEWorkHoursR,callback:function(e){t.$set(t.timeForm,"MEWorkHoursR",e)},expression:"timeForm.MEWorkHoursR"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"电子专业（红线）",prop:"AVWorkHoursR"}},[a("el-input-number",{attrs:{precision:1,step:.5,min:0,max:300},model:{value:t.timeForm.AVWorkHoursR,callback:function(e){t.$set(t.timeForm,"AVWorkHoursR",e)},expression:"timeForm.AVWorkHoursR"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("timeForm")}}},[t._v("保存信息")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(c,d,!1,function(t){a("T3qK")},"data-v-6269557f",null).exports,p={name:"setTroubleShootingTime",data:function(){return{dateSelect:[],tableTroubleShootingTime:[],allTimeData:[],params:{startDate:"2021-10-22",endDate:"2021-11-23"},tableData:[],drawer:!1,timeForm:{id:"",date:"",fuzhouTime:"",xiamenTime:""},count:400,page:1,pageSize:5}},methods:{onSearch:function(){this.params.startDate=this.dateSelect[0],this.params.endDate=this.dateSelect[1],this.showData()},handleEdit:function(t,e){this.drawer=!0,console.log(t,e),this.timeForm=e},showData:function(){var t=this;this.$http.get("/findTroubleShootingTime",{params:this.params}).then(function(e){e.data.success?(t.$message({message:e.data.msg,type:"success"}),t.allTimeData=e.data.results,t.count=t.allTimeData.length,t.tableData=t.allTimeData.slice((t.page-1)*t.pageSize,t.page*t.pageSize)):t.$message.error(e.data.msg)})},handleCurrentChange:function(t){this.page=t,this.showData()},handleSizeChange:function(t){this.pageSize=t,this.showData()},onSubmit:function(t){var e=this;this.$http.post("/editTroubleShootingTime",this.timeForm).then(function(t){console.log(t.data),t.data.success?(e.$message({message:"恭喜你，"+t.data.msg,type:"success"}),e.timeForm={},e.drawer=!1,e.showData()):e.$message.error(t.data.msg)})},cancel:function(){this.drawer=!1,this.showData()}},created:function(){this.showData()}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",[t._v("排故时间设置")]),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:t.dateSelect,callback:function(e){t.dateSelect=e},expression:"dateSelect"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSearch()}}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"","default-sort":{prop:"date",order:"ascending"}}},[a("el-table-column",{attrs:{prop:"date",label:"日期",sortable:"",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fuzhouTime",label:"福州排故工时",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"xiamenTime",label:"厦门排故工时"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12,offset:10}},[a("el-pagination",{attrs:{"page-sizes":[5,10,50,200],"page-size":t.pageSize,"current-page":t.page,layout:"total, sizes, prev, pager, next, jumper",total:t.count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("el-drawer",{ref:"drawer",attrs:{title:"编辑",visible:t.drawer,size:"30%"},on:{"update:visible":function(e){t.drawer=e}}},[a("el-form",{staticStyle:{margin:"0px 45px"}},[a("el-form-item",{attrs:{label:"日期",prop:"date"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"日期",disabled:""},model:{value:t.timeForm.date,callback:function(e){t.$set(t.timeForm,"date",e)},expression:"timeForm.date"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"福州排故工时",prop:"fuzhouTime"}},[a("el-input-number",{attrs:{precision:1,step:.5,min:0,max:300},model:{value:t.timeForm.fuzhouTime,callback:function(e){t.$set(t.timeForm,"fuzhouTime",e)},expression:"timeForm.fuzhouTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"厦门排故工时",prop:"xiamenTime"}},[a("el-input-number",{attrs:{precision:1,step:.5,min:0,max:300},model:{value:t.timeForm.xiamenTime,callback:function(e){t.$set(t.timeForm,"xiamenTime",e)},expression:"timeForm.xiamenTime"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("timeForm")}}},[t._v("保存信息")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var v=a("VU/8")(p,f,!1,function(t){a("YU0h")},"data-v-1ab21ae6",null).exports,b={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("h1",[this._v("upLoad")])])}]};var g=a("VU/8")({name:"upLoad",data:function(){return{}}},b,!1,function(t){a("PpUi")},"data-v-074606eb",null).exports,_=a("mvHQ"),w=a.n(_),x=a("lHA8"),k=a.n(x),y=a("c/Tr"),S=a.n(y),T=a("XLwt"),F={name:"timeChaets",mounted:function(){},props:["timeType"],data:function(){return{dataResult:[],bases:[],dateList:[],timeList:[],dateArr:[],soure1:[],value1:"",series1:[],baseNum:8}},methods:{setEcharts:function(){var t=T.a(this.$refs.timehart);t.setOption({legend:{},tooltip:{trigger:"axis",showContent:!1},dataset:{source:this.soure1},xAxis:{type:"category"},yAxis:{gridIndex:0},grid:{top:"55%"},series:this.series1}),t.on("updateAxisPointer",function(e){var a=e.axesInfo[0];if(a){var r=a.value+1;t.setOption({series:{id:"pie",label:{formatter:"{b}: {@["+r+"]} ({d}%)"},encode:{value:r,tooltip:r}}})}})},series2:function(){var t=[];console.log(this.baseNum);for(var e=0;e<this.baseNum;e++)t.push({type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}});return t.push({type:"pie",id:"pie",radius:["15%","30%"],center:["50%","25%"],itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2},emphasis:{focus:"self"},label:{formatter:"{b}: {@this.value1} ({d}%)"},encode:{itemName:"task",value:this.value1,tooltip:this.value1}}),t},showData:function(){var t=this;this.$http.get("/findDataResult").then(function(e){t.dataResult=e.data.results,t.bases=e.data.bases,t.datamation(),t.setEcharts()})},datamation:function(){for(var t=[],e=0;e<this.dataResult.length;e++)t.push(this.dataResult[e].date);t=(t=S()(new k.a(t))).sort();for(var a=[],r=0;r<this.bases.length;r++){a[r]=[],a[r]=[this.bases[r].base];for(var s=a[r],i=0;i<this.dataResult.length;i++)if(this.dataResult[i].baseId==this.bases[r].id)for(var o=0;o<t.length;o++)this.dataResult[i].date==t[o]&&s.push(this.dataResult[i].METaskNum);a[r]=s}t.unshift("task");var n=[];n.push(t);for(var l=0;l<a.length;l++)n.push(a[l]);this.soure1=JSON.parse(w()(n)),this.value1=this.soure1[0][1],this.series1=this.series2(),console.log(this.series1),this.baseNum=8}},created:function(){this.showData()}},R={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"timehart",staticStyle:{width:"800px",height:"550px"}})},staticRenderFns:[]};var H=a("VU/8")(F,R,!1,function(t){a("NSFF")},"data-v-4dcfa4cc",null).exports,W={name:"timeChaets",mounted:function(){},props:["timeType","title"],data:function(){return{dataResult:[],bases:[],dateList:[],timeList:[],dateArr:[],soure1:[],value1:"",series1:[],baseNum:8}},methods:{setEcharts:function(){var t=T.a(this.$refs.timehart);t.setOption({legend:{},tooltip:{trigger:"axis",showContent:!1},title:{left:"left",text:this.title},dataset:{source:this.soure1},xAxis:{type:"category"},yAxis:{gridIndex:0},grid:{top:"55%"},series:this.series1}),t.on("updateAxisPointer",function(e){var a=e.axesInfo[0];if(a){var r=a.value+1;t.setOption({series:{id:"pie",label:{formatter:"{b}: {@["+r+"]} ({d}%)"},encode:{value:r,tooltip:r}}})}})},series2:function(){for(var t=[],e=0;e<this.baseNum;e++)t.push({type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}});return t.push({type:"pie",id:"pie",radius:["15%","30%"],center:["50%","25%"],itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2},emphasis:{focus:"self"},label:{formatter:"{b}: {@this.value1} ({d}%)"},encode:{itemName:"task",value:this.value1,tooltip:this.value1}}),t},showData:function(){var t=this;this.$http.get("/findDataResult").then(function(e){t.dataResult=e.data.results,t.bases=e.data.bases,t.datamation(),t.setEcharts()})},datamation:function(){for(var t=[],e=0;e<this.dataResult.length;e++)t.push(this.dataResult[e].date);t=(t=S()(new k.a(t))).sort();for(var a=[],r=0;r<this.bases.length;r++){a[r]=[],a[r]=[this.bases[r].base];for(var s=a[r],i=0;i<this.dataResult.length;i++)if(this.dataResult[i].baseId==this.bases[r].id)for(var o=0;o<t.length;o++)this.dataResult[i].date==t[o]&&s.push(this.dataResult[i][this.timeType]);a[r]=s}t.unshift("task");var n=[];n.push(t);for(var l=0;l<a.length;l++)n.push(a[l]);this.soure1=JSON.parse(w()(n)),this.value1=this.soure1[0][1],this.series1=this.series2(),this.baseNum=8}},created:function(){this.showData()}},D={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"timehart",staticStyle:{width:"800px",height:"550px"}})},staticRenderFns:[]};var $=a("VU/8")(W,D,!1,function(t){a("pABj"),a("+IHl")},"data-v-0fcccda4",null).exports,E={name:"HelloWorld",components:{echartShowVue:$},data:function(){return{}}},V={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("el-container",[e("section",[e("echartShowVue",{attrs:{timeType:"MEWorkTime",title:"机械工时"}})],1),this._v(" "),e("section",[e("echartShowVue",{attrs:{timeType:"AVWorkTime",title:"电子工时"}})],1)])],1)},staticRenderFns:[]};var A=a("VU/8")(E,V,!1,function(t){a("hHU1")},"data-v-0f6aa489",null).exports,z={name:"HelloWorld",components:{echartShowVue:$},data:function(){return{}}},Y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("el-container",[e("section",[e("echartShowVue",{attrs:{timeType:"METaskNum",title:"机械任务"}})],1),this._v(" "),e("section",[e("echartShowVue",{attrs:{timeType:"AVTaskNum",title:"电子任务"}})],1)])],1)},staticRenderFns:[]};var C=a("VU/8")(z,Y,!1,function(t){a("YJqp")},"data-v-18bbaf0b",null).exports,M={name:"HelloWorld",components:{echartShowVue:$},data:function(){return{}}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("el-container",[e("section",[e("echartShowVue",{attrs:{timeType:"totalWorkTime",title:"总工时"}})],1),this._v(" "),e("section",[e("echartShowVue",{attrs:{timeType:"totalTaskNum",title:"总任务"}})],1)])],1)},staticRenderFns:[]};var N=a("VU/8")(M,L,!1,function(t){a("w4GB")},"data-v-e0f4e5f2",null).exports;r.default.use(o.a);var U=new o.a({routes:[{path:"/setTimeLimit",name:"setTimeLimit",component:h},{path:"/setTroubleShootingTime",name:"setTroubleShootingTime",component:v},{path:"/upLoad",name:"upLoad",component:g},{path:"/timeChaets",name:"timeChaets",component:H},{path:"/timeShow",name:"timeShow",component:A},{path:"/taskShow",name:"taskShow",component:C},{path:"/allShow",name:"allShow",component:N}]}),I=a("zL8q"),B=a.n(I),O=(a("tvR6"),a("mtWM")),q=a.n(O);r.default.config.productionTip=!1,r.default.use(B.a),r.default.prototype.$http=q.a.create({baseURL:"http://2g0ef813.nat123.fun:52452"}),new r.default({el:"#app",router:U,components:{App:i},template:"<App/>"})},NSFF:function(t,e){},PpUi:function(t,e){},T3qK:function(t,e){},YJqp:function(t,e){},YU0h:function(t,e){},hHU1:function(t,e){},pABj:function(t,e){},tvR6:function(t,e){},w4GB:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0a0dc146abacb169a085.js.map